mkscreencast () {
	HOST="$1"
	NAME="$2"
	if [[ -n "$NAME" ]] && [[ -n "$HOST" ]]; then
		if [[ -d "$NAME" ]] ; then
			echo "Directory already exists: $NAME"
			exit
		else
			mkdir "$NAME"
		fi
		msg "Running vnc2swf ... ( remember to un-mute the headset )"
		vnc2swf -n -o "$NAME/video.swf" -S "arecord -r 22050 -f cd -c 1 -D hw:Headset $NAME/audio.wav" $HOST

		prompt_y "Combine audio and video?" ; read COMBINE
		if [[ "$COMBINE" != "n" ]] ; then
			msg 'Converting audio to MP3'
			lame "$NAME/audio.wav"

			msg 'Combining audio and video into new SWF'
			vnc2swf-edit -o "$NAME/video-with-audio.swf" -a "$NAME/audio.wav.mp3" "$NAME/video.swf"

			prompt_y "Preview in Firefox?" ; read PREVIEW
			if [[ "$PREVIEW" != "n" ]] ; then
				firefox "$NAME/video-with-audio.html" &
			fi
		fi
		msg "done"
	else
		echo "Usage:  mkscreencast hostname-or-ip name-of-screencast"
	fi

}

# vim:set ft=sh:
